{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { DateTime } from \"luxon\";\nimport { useMemo } from \"react\";\nimport seedrandom from \"seedrandom\";\nimport { countriesWithImage } from \"../domain/countries\";\nconst forcedCountries = {\n  \"2022-02-02\": \"TD\",\n  \"2022-02-03\": \"PY\"\n};\nexport function getDayString() {\n  return DateTime.now().toFormat(\"yyyy-MM-dd\");\n}\nexport function useCountry(dayString) {\n  _s();\n\n  const country = useMemo(() => {\n    const forcedCountryCode = forcedCountries[dayString];\n    const forcedCountry = forcedCountryCode != null ? countriesWithImage.find(country => country.code === forcedCountryCode) : undefined;\n    console.log('randomseed', Math.floor(seedrandom.alea(dayString)() * countriesWithImage.length));\n    console.log('countriesWithImage', countriesWithImage[Math.floor(seedrandom.alea(dayString)() * countriesWithImage.length)]);\n    return forcedCountry !== null && forcedCountry !== void 0 ? forcedCountry : // countriesWithImage[\n    //   Math.floor(seedrandom.alea(dayString)() * countriesWithImage.length)\n    // ]\n    countriesWithImage[Math.ceil(seedrandom.alea(dayString)() * countriesWithImage.length) - 1];\n  }, [dayString]);\n  const randomAngle = useMemo(() => seedrandom.alea(dayString)() * 360, [dayString]);\n  const imageScale = useMemo(() => {\n    const normalizedAngle = 45 - randomAngle % 90;\n    const radianAngle = normalizedAngle * Math.PI / 180;\n    return 1 / (Math.cos(radianAngle) * Math.sqrt(2));\n  }, [randomAngle]);\n  return [country, randomAngle, imageScale];\n}\n\n_s(useCountry, \"6encjHIiGcGMBrJcLKrKjagIKxg=\");","map":{"version":3,"sources":["/Users/adammckenna/github-repos/worldle/src/hooks/useCountry.ts"],"names":["DateTime","useMemo","seedrandom","countriesWithImage","forcedCountries","getDayString","now","toFormat","useCountry","dayString","country","forcedCountryCode","forcedCountry","find","code","undefined","console","log","Math","floor","alea","length","ceil","randomAngle","imageScale","normalizedAngle","radianAngle","PI","cos","sqrt"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,kBAAT,QAA4C,qBAA5C;AAEA,MAAMC,eAAuC,GAAG;AAC9C,gBAAc,IADgC;AAE9C,gBAAc;AAFgC,CAAhD;AAKA,OAAO,SAASC,YAAT,GAAwB;AAC7B,SAAOL,QAAQ,CAACM,GAAT,GAAeC,QAAf,CAAwB,YAAxB,CAAP;AACD;AAED,OAAO,SAASC,UAAT,CAAoBC,SAApB,EAAkE;AAAA;;AACvE,QAAMC,OAAO,GAAGT,OAAO,CAAC,MAAM;AAC5B,UAAMU,iBAAiB,GAAGP,eAAe,CAACK,SAAD,CAAzC;AACA,UAAMG,aAAa,GACjBD,iBAAiB,IAAI,IAArB,GACIR,kBAAkB,CAACU,IAAnB,CACGH,OAAD,IAAaA,OAAO,CAACI,IAAR,KAAiBH,iBADhC,CADJ,GAIII,SALN;AAMAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BC,IAAI,CAACC,KAAL,CAAWjB,UAAU,CAACkB,IAAX,CAAgBX,SAAhB,MAA+BN,kBAAkB,CAACkB,MAA7D,CAA1B;AACAL,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCd,kBAAkB,CAACe,IAAI,CAACC,KAAL,CAAWjB,UAAU,CAACkB,IAAX,CAAgBX,SAAhB,MAA+BN,kBAAkB,CAACkB,MAA7D,CAAD,CAApD;AACA,WACET,aADF,aACEA,aADF,cACEA,aADF,GAEE;AACA;AACA;AACAT,IAAAA,kBAAkB,CACfe,IAAI,CAACI,IAAL,CAAUpB,UAAU,CAACkB,IAAX,CAAgBX,SAAhB,MAA+BN,kBAAkB,CAACkB,MAA5D,CAAD,GAAsE,CADtD,CALpB;AASD,GAnBsB,EAmBpB,CAACZ,SAAD,CAnBoB,CAAvB;AAqBA,QAAMc,WAAW,GAAGtB,OAAO,CACzB,MAAMC,UAAU,CAACkB,IAAX,CAAgBX,SAAhB,MAA+B,GADZ,EAEzB,CAACA,SAAD,CAFyB,CAA3B;AAKA,QAAMe,UAAU,GAAGvB,OAAO,CAAC,MAAM;AAC/B,UAAMwB,eAAe,GAAG,KAAMF,WAAW,GAAG,EAA5C;AACA,UAAMG,WAAW,GAAID,eAAe,GAAGP,IAAI,CAACS,EAAxB,GAA8B,GAAlD;AACA,WAAO,KAAKT,IAAI,CAACU,GAAL,CAASF,WAAT,IAAwBR,IAAI,CAACW,IAAL,CAAU,CAAV,CAA7B,CAAP;AACD,GAJyB,EAIvB,CAACN,WAAD,CAJuB,CAA1B;AAMA,SAAO,CAACb,OAAD,EAAUa,WAAV,EAAuBC,UAAvB,CAAP;AACD;;GAlCehB,U","sourcesContent":["import { DateTime } from \"luxon\";\nimport { useMemo } from \"react\";\nimport seedrandom from \"seedrandom\";\nimport { countriesWithImage, Country } from \"../domain/countries\";\n\nconst forcedCountries: Record<string, string> = {\n  \"2022-02-02\": \"TD\",\n  \"2022-02-03\": \"PY\",\n};\n\nexport function getDayString() {\n  return DateTime.now().toFormat(\"yyyy-MM-dd\");\n}\n\nexport function useCountry(dayString: string): [Country, number, number] {\n  const country = useMemo(() => {\n    const forcedCountryCode = forcedCountries[dayString];\n    const forcedCountry =\n      forcedCountryCode != null\n        ? countriesWithImage.find(\n            (country) => country.code === forcedCountryCode\n          )\n        : undefined;\n    console.log('randomseed', Math.floor(seedrandom.alea(dayString)() * countriesWithImage.length))\n    console.log('countriesWithImage', countriesWithImage[Math.floor(seedrandom.alea(dayString)() * countriesWithImage.length)])\n    return (\n      forcedCountry ??\n      // countriesWithImage[\n      //   Math.floor(seedrandom.alea(dayString)() * countriesWithImage.length)\n      // ]\n      countriesWithImage[\n        (Math.ceil(seedrandom.alea(dayString)() * countriesWithImage.length))-1\n      ]\n    );\n  }, [dayString]);\n\n  const randomAngle = useMemo(\n    () => seedrandom.alea(dayString)() * 360,\n    [dayString]\n  );\n\n  const imageScale = useMemo(() => {\n    const normalizedAngle = 45 - (randomAngle % 90);\n    const radianAngle = (normalizedAngle * Math.PI) / 180;\n    return 1 / (Math.cos(radianAngle) * Math.sqrt(2));\n  }, [randomAngle]);\n\n  return [country, randomAngle, imageScale];\n}\n"]},"metadata":{},"sourceType":"module"}